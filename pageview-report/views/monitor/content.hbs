<style type="text/css">
    .chart-div svg {
        height: 420px;
        background-color: #D8D8D8 !important;
    }
</style>

<!-- Page Heading -->
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">
            Most viewed content's categories 
            <small></small>
        </h1>
    </div>
</div>


<div class="row">
    <div class="col-lg-4 text-center">
        <div class="panel">
            <div class="panel-body">
                <div id='chart_os' class='span4'>
                    <h3>Categories</h3>
                    <svg style='height:650px;width:700px'></svg>
                </div>
            </div>
        </div>
    </div>
</div>


<script type="application/javascript">


    var filterDate = moment().subtract(1, 'days').format('YYYY-MM-DD');


    var loadDataWithGraph = function(error, data)
    {
        nv.addGraph(function () {
            var chart = nv.models.pieChart()
                            .x(function (d) {
                                return d.label
                            })
                            .y(function (d) {
                                return d.value
                            })
                            .showLabels(true)
                            .labelThreshold(.03)  //Configure the minimum slice size for labels to show up
                            .labelType("percent") //Configure what type of data to show in the label. Can be "key", "value" or "percent"
                            .donut(true)          //Turn on Donut mode. Makes pie chart look tasty!
                            .donutRatio(0.20)     //Configure how big you want the donut hole size to be.
                    ;
            d3.select("#chart_os svg")
                    .datum(data)
                    .transition().duration(350)
                    .call(chart);
            return chart;
        });
    };

    var list = [];
    list.push({label:'Tech', value : 454233});
    list.push({label:'Sport', value : 325545});
    list.push({label:'BreakingNews', value : 234534});
    loadDataWithGraph(null, list);

    ///////////////////////////////////////////////////////////////
</script>
